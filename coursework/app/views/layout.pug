//- views/layout.pug
doctype html
html
  head
    title XP Aim Trainer
    style.
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #3f3f3f;
      }
      .navbar {
        position: fixed;
        top: 0;
        width: 100%;
        background: #2c2c2c;
        display: flex;
        align-items: center;
        padding: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      .logo-container {
        display: flex;
        align-items: center;
        text-decoration: none;
        width: 180px; /* Fixed width for logo container */
      }
      .navbar img {
        width: 40px;
        height: 40px;
      }
      #cat {
        padding: 0px;
        margin-right: 10px;
      }
      .logo-text {
        font-family: 'Arial', sans-serif;
        font-weight: 800;
        font-size: 24px;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin: 0;
        background: linear-gradient(90deg, #67d9dc, #5dc5c1);
        background-clip: text;
        -webkit-background-clip: text;
        color: transparent;
        text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.3);
        position: relative;
        white-space: nowrap;
      }
      .logo-text::after {
        content: "XPTrainer";
        position: absolute;
        left: 2px;
        top: 2px;
        z-index: -1;
        color: rgba(0, 0, 0, 0.3);
        filter: blur(2px);
      }
      .navbar .buttons {
        flex-grow: 1;
        display: flex;
        justify-content: center;
        gap: 10px;
      }
      .navbar button {
        flex: 1; 
        max-width: 120px; 
        height: 40px; 
        padding: 10px;
        font-size: 16px;
        font-weight: bold;
        color: white;
        background: #555;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        text-align: center;
      }
      .navbar button:hover {
        background: #4d4c4c;
        color: #67d9dc;
        transform: scale(1.02);
      }
      .account-container {
        width: 180px; /* Match logo container width for symmetry */
        display: flex;
        justify-content: flex-end;
      }
      .account-container img {
        margin-right: 15px;
      }
      .content {
        margin-top: 80px; /* Push content down so it's not hidden under navbar */
        text-align: center;
        padding: 20px;
      }

  body
    .navbar
      a.logo-container(href="/")
        img(src="/images/sillycat.jpg", alt="Logo Icon", id="cat")
        .logo-text XPTrainer
      .buttons
        button(onclick="window.location.href='/tasks'") Tasks
        button(onclick="window.location.href='/leaderboard'") Leaderboard
        button(onclick="window.location.href='/games'") Games
        button(onclick="window.location.href='/forum'") Forum
      .account-container
        a(href="/account")
          img(src="/images/accounticon.png", alt="Account Icon")

    //- Content area
    .content
      block content

    //- Add JavaScript at the end of the body
    script.
      // Simple function to toggle topic content visibility
      function toggleTopic(topicId) {
        console.log("Toggling topic: " + topicId);
        const contentElement = document.getElementById("topic-" + topicId + "-content");
        if (contentElement) {
          if (contentElement.classList.contains("hidden")) {
            contentElement.classList.remove("hidden");
            console.log("Showing topic content");
          } else {
            contentElement.classList.add("hidden");
            console.log("Hiding topic content");
          }
        } else {
          console.error("Could not find element with id: topic-" + topicId + "-content");
        }
      }